akipic	"AKI-PICプログラマー"linux用ツール

	これは、秋月電子通商のキット"AKI-PICプログラマー"をlinuxで使うための
	プログラムです。たいして動作チェックもしていない"アルファバージョン"で
	すが、とりあえず公開します。
	FreeBSD 3.5と、いくつかのバージョンでも動作が確認されています。

	ライセンス
		GPLとします。詳しくはLICENSEを御覧ください。

	最新版
		http://members.jcom.home.ne.jp/pnms/
		からどうぞ。

	コンパイル
		akipic-xxx.tar.gzを解凍してできたディレクトリへcdし、make
		でおしまい。
			$ tar zxvf akipic-xxx.tar.gz
			$ cd akipic-xxx
			$ make
		akipicがブツです。

	対応(したつもりの)デバイス
        12c508  12c508a 12c509  12c509a 12ce518 12ce519 12c671  12c672
        12ce673 12ce674 16c55   16c55a  16c57   16c57c  16c54   16c54a
        16c54c  16c56   16c56a  16c58a  16c58b  16c554  16c556  16c558
        16c61   16c620  16c620a 16c621  16c621a 16c622  16c622a 16c623
        16c624  16c625  16c62   16c62a  16c62b  16c63   16c63a  16c64
        16c64a  16c65   16c65a  16c65b  16c66   16c67   16c710  16c711
        16c712  16c717  16c71   16c72   16c72a  16c73   16c73a  16c73b
        16c74   16c74a  16c74b  16c76   16c770  16c771  16c773  16c774
        16c77   16c84   16f627  16f628  16f83   16f84   16f84a  16f873
	        ただし、すべてのデバイスで読み書きのチェックをしたわけでは
		ありません。動作確認の最新情報は、
		    http://members.jcom.home.ne.jp/pnms/akipic.html
		を参照してください。
		
	HEXファイル
		INHX8Mのみ読み書き可。
		0x0000からプログラムメモリ、0x4000からコンフィグ、0x4200
		からデータメモリになるように配置してください。

	対応アセンブラ
		gpasm
		pa

		paをお使いの方は、*必ず*paバージョン3.0.5にこのパッチをあて、
		-mオプションを付けてアセンブルしてください。
		このパッチは乃村@九大 (nom@csce.kyushu-u.ac.jp)さんから送っていただきました。

		--- encode.c.orig	Sat Oct 14 01:32:33 2000
		+++ encode.c	Sat Oct 14 01:32:03 2000
		@@ -969,7 +969,7 @@
		 				err("Unknown or not supported oscillator.");
		 				break;
		 			}
		-			if(MPLAB && solve1(&def_wdt[rc], &ans)<0){
		+			if(MPLAB && solve1(&def_osc[rc], &ans)<0){
		 				err("Needs '%s' definition.", def_wdt[rc].left);
		 				break;
		 			} else fuse &= ans;
		
	オプション
		-p	シリアルポートの指定(デフォルト/dev/akipic)
		-d	picの指定(デフォルト16f84)
		-r	picから読み込み、INHX8Mファイルへ書き出す
		-w	INHX8Mファイルから読み込み、picへ上書きする
		-e	picのメモリ消去
		-b	ブランクチェック
		-o	内部オシレータのキャリブレーションデータの上書きを許可する
			(ただし、12c5*および12ce5*のみ)
		-v	バージョン表示およびAKI-PICとの接続チェック
		-h	ヘルプ表示およびAKI-PICとの接続チェック

		例1	シリアルポート/dev/ttyS0で、myprog.hexを16f877
			へ焼く。
			akipic -p /dev/ttyS0 -d 16f877 -w myprog.hex

		例2	シリアルポート/dev/akipicで、16f84をブランクチェック
			akipic -b

	!!!!!!!注意!!!!!!!
		-picへの書き込み(オプション -w)のとき、ブランクチェックをしな
		 いでいきなり上書きします。フラッシュタイプのデバイスを焼くときは
		 最初に-e(イレース)してください。
		-picへの書き込み(オプション -w)のとき、コンフィグワードのコー
		 ドプロテクションをチェックしないで、いきなり上書きます。
		-チェックサムをチェックしていません。
		-シリアルポートを読み書きできるようにしてください。
		-Makefileでデバグオプション(-g)を付けっぱなしにしています

        謝辞
	        公開して間もない頃からパッチや動作確認の連絡を戴きました。ありがとうございます!
		乃村@九大 (nom@csce.kyushu-u.ac.jp)さんの御蔭で、シリアルポート
		周りのバグも取れ、コードも以前よりスッキリしました。FreeBSDでの動作も確認
		していただきました。大感謝!
		ことり(http://members.jcom.home.ne.jp/diye46/)さんに12ce674での書き込みエラーの
		原因を追っていただきました。わずかな時間でかなり深部の問題点を指摘していただき
		ました(PICライターに関して僕より詳しいのでは?)。ありがとうございます!

		
	御意見/御要望/バグレポート等はpnms@jcom.home.ne.jpへお願い
	します。
